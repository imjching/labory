<div class="timeline-new-comment">
<div class="new-discussion-timeline timeline-comment">
  <div class="discussion-topic-header">
    <%= f.text_field :title, autofocus: true, class: 'form-control input-lg input-block input-contrast', placeholder: "Lab name", required: 'required', size: '30' %>
  </div>

  <div class="comment-content">

    <div class="js-suggester-container js-previewable-comment-form previewable-comment-form write-selected" data-preview-url="/stafftools/preview">

      <div class="comment-form-head tabnav">
        <nav class="tabnav-tabs" role="tablist">
          <button type="button" class="btn-link tabnav-tab write-tab js-write-tab selected" role="tab" aria-selected="true">Write</button>
          <button type="button" class="btn-link tabnav-tab preview-tab js-preview-tab" role="tab" aria-selected="false">Preview</button>
        </nav>
      </div>

      <div class="write-content js-write-bucket js-uploadable-container js-upload-markdown-image upload-enabled is-default" data-upload-policy-url="/upload/policies/assets" data-upload-repository-id="50278660">

        <%= f.text_area :body, class: 'form-control input-contrast comment-form-textarea js-comment-field', style: 'height: 200px', placeholder: "What are the lab contents?" %>

        <p class="drag-and-drop">
          <span class="default">
            Attach files by dragging &amp; dropping,
            <input type="file" multiple="multiple" class="manual-file-chooser js-manual-file-chooser">
            <a class="manual-file-chooser-text" href="#">selecting them</a>, or pasting
            from the clipboard.
          </span>
          <span class="loading">
            <img alt="" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16"> Uploading your files…
          </span>
          <span class="error bad-file">
            Unfortunately, we don’t support that file type.
            <input type="file" multiple="multiple" class="manual-file-chooser js-manual-file-chooser">
            <span class="drag-and-drop-error-info">
              <a class="manual-file-chooser-text" href="#">Try again</a> with a
              PNG, GIF, JPG, DOCX, PPTX, XLSX, TXT, PDF, or ZIP.
            </span>
          </span>
          <span class="error bad-permissions">
            Attaching documents requires write permission to this repository.
            <input type="file" multiple="multiple" class="manual-file-chooser js-manual-file-chooser">
            <span class="drag-and-drop-error-info">
              <a class="manual-file-chooser-text" href="#">Try again</a> with a PNG, GIF, or JPG.
            </span>
          </span>
          <span class="error repository-required">
            Unfortunately, we don’t support that file type.
            <input type="file" multiple="multiple" class="manual-file-chooser js-manual-file-chooser">
            <span class="drag-and-drop-error-info">
              <a class="manual-file-chooser-text" href="#">Try again</a> with a PNG, GIF, or JPG.
            </span>
          </span>
          <span class="error too-big">
            Yowza, that’s a big file.
            <input type="file" multiple="multiple" class="manual-file-chooser js-manual-file-chooser">
            <span class="drag-and-drop-error-info">
              <a class="manual-file-chooser-text" href="#">Try again</a> with a file smaller than 10MB.
            </span>
          </span>
          <span class="error empty">
            This file is empty.
            <input type="file" multiple="multiple" class="manual-file-chooser js-manual-file-chooser">
            <span class="drag-and-drop-error-info">
              <a class="manual-file-chooser-text" href="#">Try again</a> with a file that’s not empty.
            </span>
          </span>
          <span class="error bad-browser">
            This browser doesn’t support file attachments.
            <span class="drag-and-drop-error-info">
              We recommend updating to the latest
              <a href="https://www.microsoft.com/ie">Internet Explorer</a>,
              <a href="https://chrome.google.com">Google Chrome</a>, or
              <a href="https://www.mozilla.org/firefox">Firefox</a>.
            </span>
          </span>
          <span class="error failed-request">
            Something went really wrong, and we can’t process that file.
            <input type="file" multiple="multiple" class="manual-file-chooser js-manual-file-chooser">
            <span class="drag-and-drop-error-info">
              <a class="manual-file-chooser-text" href="#">Try again.</a>
            </span>
          </span>
        </p>

      </div>

      <div class="preview-content">
        <div class="comment">
          <div class="comment-content">
            <div class="comment-body js-preview-body">
              <% if @lab.body.present? %>
                <%= markdown(@lab.body) %>
              <% else %>
                <p>Nothing to preview</p>
              <% end %>
            </div>
          </div>
        </div>
      </div>

      <div class="toolbar-help">
        <a class="tabnav-extra" href="https://guides.github.com/features/mastering-markdown/" target="_blank">
          <%= octicon('markdown') %>
          Styling with Markdown is supported
        </a>
      </div>

      <div class="form-actions">
        <%= f.submit "#{status} Lab", class: 'btn btn-primary', id: 'lab_submit', disabled: status == 'Create' %>
        <%= link_to 'Cancel', stafftools_course_path(@course), class: 'btn', role: 'button' %>
      </div>

    </div>
  </div>
</div>
</div>
